#!/bin/bash

echo "üö® –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï –§–†–û–ù–¢–ï–ù–î–ê"

# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—ã
ssh root@aero-lunch.ru << 'EOF'
cd /root/aero-lunch-app

echo "üì• –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–¥..."
git pull origin main

echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
npm install

echo "üî® –ü–ï–†–ï–°–û–ë–ò–†–ê–ï–ú –§–†–û–ù–¢–ï–ù–î..."
npm run build

echo "üìÅ –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã –≤ nginx..."
sudo cp -r dist/* /usr/share/nginx/html/

echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º nginx..."
sudo systemctl reload nginx

echo "‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∞–π–ª—ã..."
ls -la /usr/share/nginx/html/

echo "üéâ –§–†–û–ù–¢–ï–ù–î –û–ë–ù–û–í–õ–ï–ù!"
EOF

echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∞–π—Ç." 